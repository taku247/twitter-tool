<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPTÂàÜÊûê„ÉÜ„É≥„Éó„É¨„Éº„ÉàÁÆ°ÁêÜ - Twitter Analytics Tool</title>
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-card: #242424;
            --text-primary: #ffffff;
            --text-secondary: #888888;
            --accent: #1DA1F2;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --border: #333333;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ */
        .navigation {
            background-color: var(--bg-secondary);
            padding: 15px 0;
            margin-bottom: 30px;
            border-bottom: 1px solid var(--border);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-brand {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            transition: color 0.3s;
        }

        .nav-links a:hover, .nav-links a.active {
            color: var(--accent);
        }

        /* „Éò„ÉÉ„ÉÄ„Éº */
        h1 {
            margin-bottom: 30px;
            font-size: 2rem;
        }

        /* „ÉÜ„É≥„Éó„É¨„Éº„Éà„Ç´„Éº„Éâ */
        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .template-card {
            background-color: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .template-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(29, 161, 242, 0.1);
        }

        .template-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .template-title {
            font-size: 1.25rem;
            font-weight: bold;
            color: var(--text-primary);
        }

        .template-category {
            display: inline-block;
            padding: 4px 12px;
            background-color: var(--accent);
            color: white;
            border-radius: 20px;
            font-size: 0.75rem;
            text-transform: uppercase;
        }

        .template-description {
            color: var(--text-secondary);
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .template-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .template-actions {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background-color: var(--accent);
            color: white;
        }

        .btn-primary:hover {
            background-color: #1a8cd8;
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }

        .btn-danger {
            background-color: transparent;
            color: var(--danger);
            border: 1px solid var(--danger);
        }

        .btn-danger:hover {
            background-color: var(--danger);
            color: white;
        }

        /* „ÉÜ„É≥„Éó„É¨„Éº„Éà‰ΩúÊàê„Éï„Ç©„Éº„É† */
        .create-template {
            background-color: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 40px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-primary);
        }

        input[type="text"],
        select,
        textarea {
            width: 100%;
            padding: 10px;
            background-color: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text-primary);
            font-size: 1rem;
        }

        input[type="text"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--accent);
        }

        textarea {
            min-height: 200px;
            resize: vertical;
            font-family: monospace;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        input[type="range"] {
            flex: 1;
        }

        .slider-value {
            min-width: 40px;
            text-align: center;
            color: var(--accent);
            font-weight: bold;
        }

        /* „É¢„Éº„ÉÄ„É´ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
        }

        .modal-content {
            position: relative;
            background-color: var(--bg-card);
            margin: 50px auto;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            border-radius: 8px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .close {
            color: var(--text-secondary);
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: var(--text-primary);
        }

        /* „Éà„Éº„Çπ„ÉàÈÄöÁü• */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 4px;
            color: white;
            font-weight: 500;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
            z-index: 2000;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast.success {
            background-color: var(--success);
        }

        .toast.error {
            background-color: var(--danger);
        }

        /* „É≠„Éº„Éá„Ç£„É≥„Ç∞ */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--border);
            border-radius: 50%;
            border-top-color: var(--accent);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* „É¨„Çπ„Éù„É≥„Ç∑„Éñ */
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .template-grid {
                grid-template-columns: 1fr;
            }

            .nav-links {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ -->
    <nav class="navigation">
        <div class="nav-container">
            <a href="/" class="nav-brand">Twitter Analytics Tool</a>
            <ul class="nav-links">
                <li><a href="/">„Éõ„Éº„É†</a></li>
                <li><a href="/list-scheduler.html">üìã „É™„Çπ„ÉàÁÆ°ÁêÜ</a></li>
                <li><a href="/analysis-results.html">üìä ÂàÜÊûêÁµêÊûú</a></li>
                <li><a href="/analysis-templates.html" class="active">‚öôÔ∏è ÂàÜÊûê„ÉÜ„É≥„Éó„É¨„Éº„Éà</a></li>
                <li><a href="/realtime-monitor.html">üì° „É™„Ç¢„É´„Çø„Ç§„É†Áõ£Ë¶ñ</a></li>
                <li><a href="/kaitotweet.html">KaitoTweet</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h1>üìù ChatGPTÂàÜÊûê„ÉÜ„É≥„Éó„É¨„Éº„ÉàÁÆ°ÁêÜ</h1>

        <!-- „ÉÜ„É≥„Éó„É¨„Éº„Éà‰ΩúÊàê„Éï„Ç©„Éº„É† -->
        <div class="create-template">
            <h2>‚ûï Êñ∞Ë¶è„ÉÜ„É≥„Éó„É¨„Éº„Éà‰ΩúÊàê</h2>
            <form id="templateForm">
                <div class="form-group">
                    <label for="templateName">„ÉÜ„É≥„Éó„É¨„Éº„ÉàÂêç</label>
                    <input type="text" id="templateName" name="name" required placeholder="‰æã: ÊÑüÊÉÖÂàÜÊûê">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="templateCategory">„Ç´„ÉÜ„Ç¥„É™</label>
                        <select id="templateCategory" name="category" required>
                            <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                            <option value="sentiment">ÊÑüÊÉÖÂàÜÊûê</option>
                            <option value="trend">„Éà„É¨„É≥„ÉâÂàÜÊûê</option>
                            <option value="summary">Ë¶ÅÁ¥Ñ</option>
                            <option value="custom">„Ç´„Çπ„Çø„É†</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="maxTokens">ÊúÄÂ§ß„Éà„Éº„ÇØ„É≥Êï∞</label>
                        <input type="number" id="maxTokens" name="maxTokens" min="100" max="4000" value="2000">
                    </div>
                </div>

                <div class="form-group">
                    <label for="templateDescription">Ë™¨Êòé</label>
                    <input type="text" id="templateDescription" name="description" placeholder="„Åì„ÅÆ„ÉÜ„É≥„Éó„É¨„Éº„Éà„ÅÆË™¨Êòé">
                </div>

                <div class="form-group">
                    <label for="templatePrompt">ChatGPT„Éó„É≠„É≥„Éó„Éà</label>
                    <textarea id="templatePrompt" name="prompt" required placeholder="‰ª•‰∏ã„ÅÆ„ÉÑ„Ç§„Éº„Éà„ÇíÂàÜÊûê„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ&#10;&#10;„ÉÑ„Ç§„Éº„Éà„Éá„Éº„Çø:&#10;{{tweets}}&#10;&#10;ÂàÜÊûêÁµêÊûú„Çí‰ª•‰∏ã„ÅÆÂΩ¢Âºè„ÅßËøî„Åó„Å¶„Åè„Å†„Åï„ÅÑ:"></textarea>
                    <small style="color: var(--text-secondary);">‚Äª {{tweets}} „ÅØÂÆüÈöõ„ÅÆ„ÉÑ„Ç§„Éº„Éà„Éá„Éº„Çø„Å´ÁΩÆÊèõ„Åï„Çå„Åæ„Åô</small>
                </div>

                <div class="form-group">
                    <label for="temperature">Temperature (ÂâµÈÄ†ÊÄß)</label>
                    <div class="slider-container">
                        <input type="range" id="temperature" name="temperature" min="0" max="1" step="0.1" value="0.7">
                        <span class="slider-value">0.7</span>
                    </div>
                    <small style="color: var(--text-secondary);">0.0 = Á¢∫ÂÆöÁöÑ / 1.0 = ÂâµÈÄ†ÁöÑ</small>
                </div>

                <button type="submit" class="btn btn-primary">„ÉÜ„É≥„Éó„É¨„Éº„Éà‰ΩúÊàê</button>
            </form>
        </div>

        <!-- „ÉÜ„É≥„Éó„É¨„Éº„Éà‰∏ÄË¶ß -->
        <h2 style="margin-bottom: 20px;">üìã ‰øùÂ≠òÊ∏à„Åø„ÉÜ„É≥„Éó„É¨„Éº„Éà</h2>
        <div id="templateGrid" class="template-grid">
            <!-- „ÉÜ„É≥„Éó„É¨„Éº„Éà„Ç´„Éº„Éâ„Åå„Åì„Åì„Å´ÂãïÁöÑ„Å´ËøΩÂä†„Åï„Çå„Åæ„Åô -->
        </div>
    </div>

    <!-- Á∑®ÈõÜ„É¢„Éº„ÉÄ„É´ -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>„ÉÜ„É≥„Éó„É¨„Éº„Éà„ÇíÁ∑®ÈõÜ</h2>
                <span class="close">&times;</span>
            </div>
            <form id="editForm">
                <!-- Á∑®ÈõÜ„Éï„Ç©„Éº„É†„ÅÆÂÜÖÂÆπ„ÅØÂãïÁöÑ„Å´ÁîüÊàê -->
            </form>
        </div>
    </div>

    <!-- „ÉÜ„Çπ„ÉàÂÆüË°å„É¢„Éº„ÉÄ„É´ -->
    <div id="testModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>„ÉÜ„É≥„Éó„É¨„Éº„Éà„Çí„ÉÜ„Çπ„Éà</h2>
                <span class="close">&times;</span>
            </div>
            <div id="testContent">
                <div class="form-group">
                    <label>„ÉÜ„Çπ„ÉàÁî®„ÉÑ„Ç§„Éº„Éà (ÂêÑË°å„Å´1„Å§„Åö„Å§ÂÖ•Âäõ)</label>
                    <textarea id="testTweets" rows="5" placeholder="@user1: „Åì„Çå„ÅØ„ÉÜ„Çπ„Éà„ÉÑ„Ç§„Éº„Éà„Åß„Åô&#10;@user2: ChatGPTÂàÜÊûê„ÅÆ„ÉÜ„Çπ„Éà„ÇíÂÆüË°å‰∏≠"></textarea>
                </div>
                <button class="btn btn-primary" onclick="runTest()">„ÉÜ„Çπ„ÉàÂÆüË°å</button>
                <div id="testResult" style="margin-top: 20px;"></div>
            </div>
        </div>
    </div>

    <!-- „Éà„Éº„Çπ„ÉàÈÄöÁü• -->
    <div id="toast" class="toast"></div>

    <script type="module">
        // FirebaseÂàùÊúüÂåñ
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { 
            getFirestore, 
            collection, 
            addDoc, 
            getDocs, 
            updateDoc, 
            deleteDoc, 
            doc, 
            query, 
            where,
            orderBy
        } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        let app, db;
        let currentEditingId = null;
        let currentTestingId = null;

        // FirebaseË®≠ÂÆöÂèñÂæó„Å®ÂàùÊúüÂåñ
        async function initializeFirebase() {
            try {
                const response = await fetch('/api/config/firebase');
                const config = await response.json();
                
                app = initializeApp(config);
                db = getFirestore(app);
                
                console.log('‚úÖ Firebase initialized');
                
                // „ÉÜ„É≥„Éó„É¨„Éº„Éà‰∏ÄË¶ß„ÇíË™≠„ÅøËæº„Åø
                loadTemplates();
                
            } catch (error) {
                console.error('‚ùå Firebase initialization failed:', error);
                showToast('Firebase„ÅÆÂàùÊúüÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü', 'error');
            }
        }

        // „ÉÜ„É≥„Éó„É¨„Éº„Éà‰∏ÄË¶ßË™≠„ÅøËæº„Åø
        async function loadTemplates() {
            try {
                const templatesRef = collection(db, 'analysis_templates');
                const q = query(templatesRef, orderBy('createdAt', 'desc'));
                const snapshot = await getDocs(q);
                
                const grid = document.getElementById('templateGrid');
                grid.innerHTML = '';
                
                if (snapshot.empty) {
                    grid.innerHTML = '<p style="color: var(--text-secondary);">„ÉÜ„É≥„Éó„É¨„Éº„Éà„Åå„Åæ„Å†ÁôªÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ</p>';
                    return;
                }
                
                snapshot.forEach(doc => {
                    const template = { id: doc.id, ...doc.data() };
                    grid.appendChild(createTemplateCard(template));
                });
                
            } catch (error) {
                console.error('Failed to load templates:', error);
                showToast('„ÉÜ„É≥„Éó„É¨„Éº„Éà„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü', 'error');
            }
        }

        // „ÉÜ„É≥„Éó„É¨„Éº„Éà„Ç´„Éº„Éâ‰ΩúÊàê
        function createTemplateCard(template) {
            const card = document.createElement('div');
            card.className = 'template-card';
            
            const categoryColors = {
                sentiment: '#1DA1F2',
                trend: '#E1306C',
                summary: '#00BF63',
                custom: '#845EC2'
            };
            
            card.innerHTML = `
                <div class="template-header">
                    <h3 class="template-title">${escapeHtml(template.name)}</h3>
                    <span class="template-category" style="background-color: ${categoryColors[template.category] || '#666'}">
                        ${getCategoryLabel(template.category)}
                    </span>
                </div>
                <p class="template-description">${escapeHtml(template.description || 'Ë™¨Êòé„Å™„Åó')}</p>
                <div class="template-stats">
                    <span>‰ΩøÁî®ÂõûÊï∞: ${template.usage?.totalRuns || 0}Âõû</span>
                    <span>ÊúÄÁµÇ‰ΩøÁî®: ${template.usage?.lastUsed ? formatDate(template.usage.lastUsed) : 'Êú™‰ΩøÁî®'}</span>
                </div>
                <div class="template-actions">
                    <button class="btn btn-primary" onclick="editTemplate('${template.id}')">Á∑®ÈõÜ</button>
                    <button class="btn btn-secondary" onclick="testTemplate('${template.id}')">„ÉÜ„Çπ„Éà</button>
                    <button class="btn btn-danger" onclick="deleteTemplate('${template.id}', '${escapeHtml(template.name)}')">ÂâäÈô§</button>
                </div>
            `;
            
            return card;
        }

        // „Ç´„ÉÜ„Ç¥„É™„É©„Éô„É´ÂèñÂæó
        function getCategoryLabel(category) {
            const labels = {
                sentiment: 'ÊÑüÊÉÖÂàÜÊûê',
                trend: '„Éà„É¨„É≥„ÉâÂàÜÊûê',
                summary: 'Ë¶ÅÁ¥Ñ',
                custom: '„Ç´„Çπ„Çø„É†'
            };
            return labels[category] || category;
        }

        // Êó•‰ªò„Éï„Ç©„Éº„Éû„ÉÉ„Éà
        function formatDate(timestamp) {
            if (!timestamp) return 'Êú™Ë®≠ÂÆö';
            const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);
            const now = new Date();
            const diff = now - date;
            
            if (diff < 3600000) {
                return `${Math.floor(diff / 60000)}ÂàÜÂâç`;
            } else if (diff < 86400000) {
                return `${Math.floor(diff / 3600000)}ÊôÇÈñìÂâç`;
            } else if (diff < 604800000) {
                return `${Math.floor(diff / 86400000)}Êó•Ââç`;
            } else {
                return date.toLocaleDateString('ja-JP');
            }
        }

        // HTML„Ç®„Çπ„Ç±„Éº„Éó
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // „Éà„Éº„Çπ„ÉàÈÄöÁü•Ë°®Á§∫
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast ${type} show`;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // „Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞„Å®„Åó„Å¶ÂÖ¨Èñã
        window.editTemplate = async function(id) {
            currentEditingId = id;
            // Á∑®ÈõÜÂá¶ÁêÜ
            showToast('Á∑®ÈõÜÊ©üËÉΩ„ÅØÊ∫ñÂÇô‰∏≠„Åß„Åô', 'error');
        };

        window.testTemplate = async function(id) {
            currentTestingId = id;
            document.getElementById('testModal').style.display = 'block';
        };

        window.deleteTemplate = async function(id, name) {
            if (!confirm(`„ÉÜ„É≥„Éó„É¨„Éº„Éà„Äå${name}„Äç„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü„Åì„ÅÆÊìç‰Ωú„ÅØÂèñ„ÇäÊ∂à„Åõ„Åæ„Åõ„Çì„ÄÇ`)) {
                return;
            }
            
            try {
                await deleteDoc(doc(db, 'analysis_templates', id));
                showToast('„ÉÜ„É≥„Éó„É¨„Éº„Éà„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü', 'success');
                loadTemplates();
            } catch (error) {
                console.error('Failed to delete template:', error);
                showToast('ÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü', 'error');
            }
        };

        window.runTest = async function() {
            const tweets = document.getElementById('testTweets').value.trim();
            if (!tweets) {
                showToast('„ÉÜ„Çπ„ÉàÁî®„ÉÑ„Ç§„Éº„Éà„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ', 'error');
                return;
            }
            
            showToast('„ÉÜ„Çπ„ÉàÊ©üËÉΩ„ÅØÊ∫ñÂÇô‰∏≠„Åß„Åô', 'error');
        };

        // „Éï„Ç©„Éº„É†ÈÄÅ‰ø°Âá¶ÁêÜ
        document.getElementById('templateForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const templateData = {
                name: formData.get('name'),
                category: formData.get('category'),
                description: formData.get('description'),
                prompt: formData.get('prompt'),
                maxTokens: parseInt(formData.get('maxTokens')),
                temperature: parseFloat(formData.get('temperature')),
                active: true,
                createdAt: new Date(),
                updatedAt: new Date(),
                usage: {
                    totalRuns: 0,
                    lastUsed: null
                }
            };
            
            try {
                await addDoc(collection(db, 'analysis_templates'), templateData);
                showToast('„ÉÜ„É≥„Éó„É¨„Éº„Éà„Çí‰ΩúÊàê„Åó„Åæ„Åó„Åü', 'success');
                e.target.reset();
                loadTemplates();
            } catch (error) {
                console.error('Failed to create template:', error);
                showToast('‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü', 'error');
            }
        });

        // Temperature „Çπ„É©„Ç§„ÉÄ„Éº
        document.getElementById('temperature').addEventListener('input', (e) => {
            e.target.nextElementSibling.textContent = e.target.value;
        });

        // „É¢„Éº„ÉÄ„É´Èñâ„Åò„Çã
        document.querySelectorAll('.close').forEach(closeBtn => {
            closeBtn.addEventListener('click', () => {
                closeBtn.closest('.modal').style.display = 'none';
            });
        });

        // „É¢„Éº„ÉÄ„É´Â§ñ„ÇØ„É™„ÉÉ„ÇØ„ÅßÈñâ„Åò„Çã
        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                e.target.style.display = 'none';
            }
        });

        // ÂàùÊúüÂåñ
        initializeFirebase();
    </script>
</body>
</html>